(function(){var a={elements:{$:function(b){var c=b.attributes,d=c&&c._cke_realelement,e=d&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(d)),f=e&&e.children[0];if(f&&b.attributes._cke_resizable){var g=b.attributes.style;if(g){var h=/(?:^|\s)width\s*:\s*(\d+)/i.exec(g),i=h&&h[1];h=/(?:^|\s)height\s*:\s*(\d+)/i.exec(g);var j=h&&h[1];if(i)f.attributes.width=i;if(j)f.attributes.height=j;}}return f;}}};CKEDITOR.plugins.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(b){var c=b.dataProcessor,d=c&&c.htmlFilter;if(d)d.addRules(a);}});})();CKEDITOR.editor.prototype.createFakeElement=function(a,b,c,d){var e=this.lang.fakeobjects,f={'class':b,src:CKEDITOR.getUrl('images/spacer.gif'),_cke_realelement:encodeURIComponent(a.getOuterHtml()),_cke_real_node_type:a.type,alt:e[c]||e.unknown,align:a.getAttribute('align')||''};if(c)f._cke_real_element_type=c;if(d)f._cke_resizable=d;return this.document.createElement('img',{attributes:f});};CKEDITOR.editor.prototype.createFakeParserElement=function(a,b,c,d){var e=this.lang.fakeobjects,f,g=new CKEDITOR.htmlParser.basicWriter();a.writeHtml(g);f=g.getHtml();var h={'class':b,src:CKEDITOR.getUrl('images/spacer.gif'),_cke_realelement:encodeURIComponent(f),_cke_real_node_type:a.type,alt:e[c]||e.unknown,align:a.attributes.align||''};if(c)h._cke_real_element_type=c;if(d)h._cke_resizable=d;return new CKEDITOR.htmlParser.element('img',h);};CKEDITOR.editor.prototype.restoreRealElement=function(a){if(a.getAttribute('_cke_real_node_type')!=CKEDITOR.NODE_ELEMENT)return null;return CKEDITOR.dom.element.createFromHtml(decodeURIComponent(a.getAttribute('_cke_realelement')),this.document);};
